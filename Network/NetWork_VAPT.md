# Network VAPT

## Giới thiệu về Network VAPT
 VAPT là từ viết tắt của cụm từ `Vulnerbility Assessment and Penetration Testing`. Đây là một dịch vụ cần thiết của các công ty mạng CNTT để phát hiện sự hiện diện của các lỗ hổng trong vòng lặp bảo mật.Việc để lại những sơ hở như vậy có thể dẫn đến việc khai thác và đánh cắp dữ liệu, trường hợp xấu nhất là dữ liệu nên được bảo vệ bởi mạng CNTT.

 ## Tầm quan trọng của Network VAPT
Hình thức đánh giá này là việc mô phỏng một cuộc tấn công được thực hiện bởi các chuyên gia lành nghề và họ sẽ giúp bạn
    - Hiểu rõ mức độ rủi ro của tổ chức
    - Giúp giải quyết và khắc phục các lỗi an toàn đã xác định
    - Xác định các lỗ hổng bảo mật có trong hệ thống
    - Tìm kiếm các lỗ hổng tiềm ẩn có thể bị khai thác bởi các cuộc tấn công độc hại.
    - Giảm thiểu thiệt hại khi có các cuộc tấn công mạng
    - Hầu hết các cuộc tấn công đều khai thác dữ liệu nội bộ, cho nên cần phải quét mạng định kì để tìm ra sơ hở.
    - Giúp các công ty bảo liệu được dữ liệu quan trọng.

## Quá trình/Phương pháp Network VAPT

- **Thu thập dữ liệu**
Rất nhiều phương pháp như Google search được sử dụng để tìm kiếm thông tin về hệ thống kẻ địch. Ta cũng có thể sử dụng công nghệ phân tích mã nguồn trang web để có thêm thông tin về version plugin, phần mềm và hệ thống. Nhiều dịch vụ và công cụ có thể giúp bạn thu thập thông tin về tên bảng, databasem, các phần mềm thứ ba ,phần cứng,...

- **Đánh giá lỗ hổng**
Từ những dữ liệu ban đầu thu thập được trong hệ thống, bạn có thể bước đầu đánh giá dược điểm yếu của hệ thống đó. Nó giúp cho người kiểm thử xâm nhập tấn công vào các điểm entry đã xác định trong hệ thống.

- **Khai thác lỗ hổng**
Phần nầy cần công cụ đặc biệt và kĩ năng để khởi chạy cuộc tấn công vào một hệt hống. Các chuyên gia kiểm thử chuyên nghiệp sử dụng các kĩ năng của họ để khởi chạy một cuộc tấn công vào hệ thống.

- **Phát hiện lỗ hổng**
Tester của các nhà cung cấp WAPT online phù hợp hiểu được các phản hồi của ứng dụng mục tiêu đối với các cuộc tấn công xâm nhập. Phân tích động cũng như phân tích tĩnh được sử dụng trong tình huống này.Phương pháp ban đầu là sẽ kiểm tra xem ứng dụng có hoạt động theo cách chính xác hay không và sau đó sẽ kiểm tra ứng dụng khi nó đang hoạt động.

- **Phân tích kết quả và chuẩn bị báo cáo**
Sau khi quá trình kiểm thử xâm nhập hoàn thành, báo cáo chi tiết đã được chuẩn bị để đưa ra các hành động khắc phục. Tất cả các lỗ hổng đã được phát hiện sẽ có những phương pháp khắc phục tương ứng trong báo cáo. Nếu bạn muốn, bạn có thể tùy chỉnh format báo cáo theo ý thích cá nhân một cách phù hợp với yêu cầu của tổ chức hiện tại.

## Các loại Network VAPT
Ở mức độ cao nhất, một đánh giá lỗ hổng network và kiểm thử xâm nhập có thể được chia thành 2 loại khác nhau
- Internal VAPT
- External VAPT

**Internal VAPT** - chỉ kiểm tra mạng nội bộ trong phạm vi.
- Server nội bộ, tường lửa và các thành phần dữ liệu như database server hoặc file server có tầm quan trọng chủ yếu trong góc nhìn quét lỗ hổng  .
- Vì bài kiểm tra chỉ được thực hiện bên trong hệ thống network, do đó chỉ đánh giá lỗ hổng không tiến hành kiểm thử hệ thống.
- Đánh giá bảo mật nội bổ có thể thực hiện trực tiếp tại cơ sở của công ty hoặc đánh giá từ xa bằng cách sử dụng một phiên vào hệ thống.

**External VAPT** - kiểm tra phạm vi bên ngoài.
- Vì kiểm tra xảy ra ở bên ngoài, việc đánh giá lỗ hổng chỉ xảy ra sau khi đã kiểm thử xâm nhập chi tiết.
- Đầu tiên, tiến hành dò quét các lỗ hổng hoặc bug, sau đó sẽ tiến hành cố gắng khai thác các lỗi đó.
- Bên cạnh đó còn có nhiều loại VAPT khác như firewall VAPT, server VAPT..

## Metasploit Framework
- Metasploit Framework là một công cụ mạnh mẽ được sử dụng bởi các tội phạm công nghệ mạng cũng như các hacker mũ trắng để thăm dò các lỗ hổng trong hệ thống.
- Bởi vì là một framework mã nguồn mở, nó rất đẽ được tùy chỉnh và sử dụng với hầu hết hệ điều hành.
- Với Metasploit, đội kiểm tử có thể sử dụng chế độ ready-mode hoặc custom mode và đưa mã nó và mạng để thăm dò các điểm yếu. Nó giống như một đặc trưng của việc tìm kiếm mối đe dọa, một khi lỗ hỏng được phát hiện và ghi lại, thông tin đó thể dược sử dụng để phát hiện các điểm yếu của hệ thống và tìm các giải pháp phù hợp.
- Metasploit được sử dụng bởi mọ người muốn phát triển trong mảng DevSecOps cho đến hacker.
- Nó rất hữu ích với những người muốn một công cụ dễ cài đặt, đáng tin cậy để hoàn thành công việc bất kể trên nền tảng hay ngôn ngữ nào được sử dụng.

`Framework này chứa tới hơn 500 payloads, trong đó bao gồm:`
-  Payload command shell cho người dùng chạy scripts hoặc lệnh ngẫu nhiên đối với máy chủ.
- Dynamic payload cho phép người kiểm tra tạo payload duy nhất để tránh phần mềm diệt virus.
- Meterpreter payloads cho phép người dùng điều khiển các thiết bị màn hình bằng VMC và tiếp nhận các phiên tải lên hoặc tải xuống các tệp.
- Static payload cho phép chuyển tiếp các cổng và liên lạc giữa các mạng.

Nhóm kiểm thử có thể áp dụng đoạn code tùy thích hoặc đoạn code có sẵn và đưa đoạn mã đó vào trong mạng để thăm dò các điểm yếu bằng Metasploit.

## Điểm khác nhau giữa Exploit và Payload
**Exploit** - Khai thác là khi kẻ tấn công hoặc pentester lợi dụng các lỗ hổng trong hệ thống, ứng dụng hoặc dịch vụ.
- Kẻ tấn công sử dụng khai thác để tấn công vào hệ thống theo một cách nào đó để dẫn đến một kết quả cụ thể mà nhà phát triển không ngờ tới.Thông thường khai thác bao gồm buffer overflows, lỗ hổng ứng dụng web ( như SQL injection), và lỗi cấu hình.
- Khai thác cung cấp cho kẻ tấn công khả năng đẩy shell/ chạy payload.

**Payload** - Payload là một đoạn code tùy chỉnh được sử dụng bởi kẻ thù khi muốn khởi tạo kết nối từ máy mục tiêu đến máy của kẻ tấn công.
- Khi một payload được đặt đúng vị trí, nó sẽ nằm im cho đến khi được khởi tạo. Kẻ taasnc ông sẽ lựa chọn rất nhiều cách để khởi tạo payload độc hại.
- Mở một tệp thực thi: Ví dụ nạn nhân tải xuống một tệp đính kèm email và họ double-click để chạy tệp mà nó khởi tạo payload.
- Trong bảo mật máy tính, payload liên quan đến phần của mã độc để thực hiện hoạt động độc hại.
- Trong phân tích mã độc như worm, virus và Trojan, nó liên quan đến kết quả của phần mềm độc hại.

## Các loại Payload
Payload, hoặc đơn giản là các đoạn mã đơn giản được hacker sử dụng để tương tác với hệ thống đã bị hack. Sử dụng payload, họ có thể truyền dữ liệu tới máy nạn nhân.

Metasploit sử dụng 3 loại payload:
- **Singles** - Singles là một đoạn code nhỏ và được thiết kế để tạo một số loại kết nối và chuyển sang bước tiếp theo. Ví dụ, tạo ra một user.
- **Staged** - Loại payload này được kẻ tấn công sử dụng để upload các file lớn vào hệ thống của nạn nhân.
- **Stages** - Stages là thành phần payload được tải bởi module **Staged**. Nhiều payload stages cung cấp các tính năng nâng cao không giới hạn như Meterpreter hoặc VNC Injection.

## Tài liệu Interview
[Tài liệu Interview Network VAPT](https://github.com/hoanganhat16b/Pentest/blob/API/Network/VAPT%20Interview%20Question%20and%20Answer.pdf)